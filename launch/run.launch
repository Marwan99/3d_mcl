<launch>
     <env name="ROSCONSOLE_CONFIG_FILE" value="$(find mcl)/custom_rosconsole.conf"/>

     <param name="/use_sim_time" value="true"/>

     <node pkg="mcl" type="mcl_node" name="mcl_node" output="screen"/>

     <!-- Publish sensors -->
     <node pkg="rosbag" type="play" name="player" args="
         /media/marwan/external_drive/IROS/wednesday/parking_lot_repeat_stroll_0_2021-03-03-16-40-15.bag
         --topic /os_cloud_node/points /encoder_odom
         -r 1
         -s 0
         --clock"/>

     <!-- Publish map to use for localization and ground truth trajectory for visualization  -->
     <node pkg="rosbag" type="play" name="map_player" args="
         /media/marwan/external_drive/IROS/wednesday/maps/parking_lot_repeat_stroll_0_2021-03-03-16-40-15.bag --loop"/>

     <!-- Publish odom->base_link tf from odom msg -->
     <node name="message_to_tf" pkg="message_to_tf" type="message_to_tf" output="screen">
          <param name="frame_id" type="string" value="odom" />
          <param name="child_frame_id" type="string" value="base_link" />
          <param name="footprint_frame_id" type="string" value="base_link" />
          <param name="stabilized_frame_id" type="string" value="base_link" />
          <param name="odometry_topic" type="string" value="/encoder_odom" />
     </node>

     <node pkg="rviz" type="rviz" name="mcl_rviz" args="-d $(find mcl)/rviz/rviz.rviz" />
</launch>